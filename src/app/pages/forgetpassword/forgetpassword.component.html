

<section class="w-1/2 mx-auto   rounded-lg shadow-lg my-7 mb-24">

    @if(step==1){
    <form [formGroup]="forgetPassword" (ngSubmit)="sendMail()" class="py-4 px-3  dark:bg-gray-800 rounded-3xl shadow-[0_10px_40px_rgba(255,255,255,0.05)] border border-white/20 transition-all duration-800  dark:shadow-emerald-600">
           <h1 class="font-bold text-4xl text-green-600 p-3 my-2">Reset Code: </h1>
        <div class="mb-3 px-7">
    <label for="email"  class="block mb-2 text-sm font-bold text-green-600" >Enter your email address and weâ€™ll send you a verification code. : </label>
    <input formControlName="email" placeholder="Your email address"  type="email" id="email" class="bg-gray-50 border border-gray-300  text-sm rounded-lg focus:ring-gray-500 focus:border-gray-500 block w-full p-2.5 d">
@if(forgetPassword.get("email")?.errors && forgetPassword.get("email")?.touched) {
               <div class="flex p-4 mb-4 my-3 text-sm text-red-800 rounded-lg bg-red-100 " role="alert">
  <svg class="shrink-0 inline w-4 h-4 me-3 mt-[2px]" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
    <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"/>
  </svg>
 
  <span class="sr-only">Danger</span>
  <div>
    <span class="font-medium">Ensure that these requirements are met:</span>
      <ul class="mt-1.5 list-disc list-inside">
   @if (forgetPassword.get("email")?.getError("required")) {
              <li>Email is required</li>
    }
  @if(forgetPassword.get("email")?.getError("email")){
        <li>Please enter a valid email address so we can send code</li>
  }
    
      
     
      
    </ul>
  </div>


</div>
}

</div>
   @if (successMsg) {
  <p class="p-4 mb-4 my-3 text-sm text-green-800 rounded-lg bg-green-100 text-center ">{{successMsg}}</p>
  <p class="p-4 mb-4 my-3 text-sm text-green-800 rounded-lg bg-green-100 text-center ">{{massageS}}</p>
}@if(faildMsg){
      <p class="p-4 mb-4 my-3 text-sm text-red-800 rounded-lg bg-red-100 text-center ">{{faildMsg}}</p>
  <p class="p-4 mb-4 my-3 text-sm text-red-800 rounded-lg bg-red-100 text-center ">{{massageF}}</p>
}
<div class="btns justify-center flex flex-row mx-auto ">

<button  class="px-4 py-3 bg-green-600  cursor-pointer block text-white rounded-lg hover:bg-green-800 transition-all disabled:bg-green-200 disabled:cursor-default ">Send Code
    @if(spinnier ){
<i class="fa-solid fa-spinner fa-spin-pulse"></i>
    }
</button>
</div>
</form>

    }





@if (step==2) {
        <form [formGroup]="verifyCode" (ngSubmit)="sendcode()" class="py-4 px-3  dark:bg-gray-800 rounded-3xl shadow-[0_10px_40px_rgba(255,255,255,0.05)] border border-white/20 transition-all duration-800  dark:shadow-emerald-600">
           <h1 class="font-bold text-4xl text-green-600 p-3 my-2 ">Verify your email : </h1>
        <div class="mb-3 px-7">
    <label for="code" class="block mb-2 text-sm font-bold text-green-600 capitalize" >Please check your mail and enter the 6-digit verification code below: </label>
    <input formControlName="resetCode" placeholder="Enter the 6-digit code"  type="text" id="code" class="bg-gray-50 border border-gray-300  text-sm rounded-lg focus:ring-gray-500 focus:border-gray-500 block w-full p-2.5 d">
    @if (verifyCode.get("resetCode")?.errors && verifyCode.get("resetCode")?.touched) {
   <div class="flex p-4 mb-4 my-3 text-sm text-red-800 rounded-lg bg-red-100 " role="alert">
  <svg class="shrink-0 inline w-4 h-4 me-3 mt-[2px]" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
    <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"/>
  </svg>
 
  <span class="sr-only">Danger</span>
  <div>
    <span class="font-medium">Ensure that these requirements are met:</span>
      <ul class="mt-1.5 list-disc list-inside">
@if (verifyCode.get("resetCode")?.getError("required")) {
              <li>code is required</li>
    }
  @if(verifyCode.get("resetCode")?.getError("pattern")){
       <li>Please enter a valid code </li>
  }
     
  
    
      
     
      
    </ul>
  </div>


</div>
    }

</div>
   @if (successMsg) {
  <p class="p-4 mb-4 my-3 text-sm text-green-800 rounded-lg bg-green-100 text-center ">{{successMsg}}</p>

}@if(faildMsg){
      <p class="p-4 mb-4 my-3 text-sm text-red-800 rounded-lg bg-red-100 text-center ">{{faildMsg}}</p>
  <p class="p-4 mb-4 my-3 text-sm text-red-800 rounded-lg bg-red-100 text-center ">{{massageF}}</p>
}
<div class="btns justify-center flex flex-row mx-auto ">
<button  class="px-4 py-3 bg-green-600  cursor-pointer block text-white rounded-lg hover:bg-green-800 transition-all disabled:bg-green-200 disabled:cursor-default ">Confirm Code
        @if(spinnier){
<i class="fa-solid fa-spinner fa-spin-pulse"></i>
    }
</button>

</div>

</form>

}

 





@if (step==3) {
    
    <form [formGroup]="resetPassword" (ngSubmit)="ResetPassword()" class=" py-4 px-3  dark:bg-gray-800 rounded-3xl shadow-[0_10px_40px_rgba(255,255,255,0.05)] border border-white/20 transition-all duration-800  dark:shadow-emerald-600">
           <h1 class="font-bold text-4xl text-green-600 p-3 my-2">Reset Password: </h1>
        <div class="mb-3 px-7">

    <label for="email" class="block mb-2 text-sm font-bold text-green-600" >Email : </label>
    <input readonly formControlName="email" placeholder="Enter your email" type="email" id="email" class="bg-gray-50 border border-gray-300  text-sm rounded-lg focus:ring-gray-500 focus:border-gray-500 block w-full p-2.5 d">
</div>
        <div class="mb-3 px-7">
    <label for="password" class="block mb-2 text-sm font-bold text-green-600" >New Password : </label>
    <input formControlName="newPassword" placeholder="Enter new password"  type="password" id="password" class="bg-gray-50 border border-gray-300  text-sm rounded-lg focus:ring-gray-500 focus:border-gray-500 block w-full p-2.5 d">
@if(resetPassword.get("newPassword")?.errors && resetPassword.get("newPassword")?.touched){
      <div class="flex p-4 mb-4 my-3 text-sm text-red-800 rounded-lg bg-red-100 " role="alert">
  <svg class="shrink-0 inline w-4 h-4 me-3 mt-[2px]" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
    <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"/>
  </svg>
 
  <span class="sr-only">Danger</span>
  <div>
    <span class="font-medium">Ensure that these requirements are met:</span>
      <ul class="mt-1.5 list-disc list-inside">
@if (resetPassword.get("newPassword")?.getError("required")) {
              <li>Password is Required</li>
    }
  @if(resetPassword.get("newPassword")?.getError("pattern")){
       <li>   Code must be at least 6 characters and contain only letters and numbers. No special characters allowed. </li>
  }
     
  
    
      
     
      
    </ul>
  </div>


</div>
}
</div>
   @if (successMsg) {
  <p class="p-4 mb-4 my-3 text-sm text-green-800 rounded-lg bg-green-100 text-center ">{{successMsg}}</p>
  <p class="p-4 mb-4 my-3 text-sm text-green-800 rounded-lg bg-green-100 text-center ">{{massageS}}</p>
}@if(faildMsg){
      <p class="p-4 mb-4 my-3 text-sm text-red-800 rounded-lg bg-red-100 text-center ">{{faildMsg}}</p>
  <p class="p-4 mb-4 my-3 text-sm text-red-800 rounded-lg bg-red-100 text-center ">{{massageF}}</p>
}
<div class="btns justify-center flex flex-row mx-auto ">
<button  class="px-4 py-3 bg-green-600  cursor-pointer block text-white rounded-lg hover:bg-green-800 transition-all disabled:bg-green-200 disabled:cursor-default ">Reset Password 
        @if(spinnier){
<i class="fa-solid fa-spinner fa-spin-pulse"></i>
    }
</button>

</div>
</form>
}
</section>

